CREATE DATABASE PELUQUERIA_CANINA;
USE PELUQUERIA_CANINA;

CREATE TABLE DUENO( 
DNI INT NOT NULL,
NOMBRE VARCHAR(25) NOT NULL,
APELLIDO VARCHAR(25) NOT NULL,
TELEFONO INT DEFAULT NULL,
DIRECCION VARCHAR(50) DEFAULT NULL,
PRIMARY KEY(DNI)
);

CREATE TABLE PERRO(
ID_PERRO INT NOT NULL auto_increment PRIMARY KEY,
NOMBRE VARCHAR(25) DEFAULT NULL,
FECHA_NAC date,
SEXO VARCHAR(30) default NULL,
DNI_DUENO INT NOT NULL,
FOREIGN KEY(DNI_DUENO) REFERENCES DUENO(DNI),
INDEX IDX_NOMPERRO(NOMBRE)
);

CREATE TABLE HISTORIAL(
ID_HISTORIAL INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
FECHA date,
PERRO VARCHAR(25) DEFAULT NULL,
DESCRIPCION VARCHAR(500) DEFAULT NULL,
MONTO INT DEFAULT NULL,
FOREIGN KEY (PERRO) REFERENCES PERRO(NOMBRE)
);


INSERT INTO DUENO (DNI, NOMBRE, APELLIDO, TELEFONO, DIRECCION)
VALUES
('39014605', 'ANDREA', 'REYNOSO', '2616140399', 'ARAUJO 1830, MENDOZA'),
('25603806','YESSICA', 'GONZALEZ', '26156447885', 'SAN MARTIN 789'),
('45698215', 'AGUSTIN', 'BUSTIS', '2615778459', 'ALBA 458'),
('20987456', 'JIMENA', 'SOTO', '2614557821', 'LAS HERAS 758');

INSERT INTO PERRO (NOMBRE, FECHA_NAC, SEXO, DNI_DUENO)
VALUES
('HUMA', '2018-06-12', 'HEMBRA', '39014605'),
('JEFECITO', '2020-06-23', 'MACHO', '25603806'),
('KAIRA', '2015-10-23', 'HEMBRA', '45698215'),
('RUBIA', '2019-04-17', 'HEMBRA', '20987456');

INSERT INTO HISTORIAL (FECHA, PERRO, DESCRIPCION, MONTO)
VALUES
('2020-10-06', 'HUMA', 'SHITZU, PELAJE COLOR CARAMELO,CORTE DE PELO Y BAÑO', 6000),
('2021-12-12', 'JEFECITO', 'CANICHE, PELAJE COLOR BLANCO, CONTROL Y VACUNA', 6000),
('2022-06-16', 'KAIRA', 'LABRADORA, PELAJE CORTO COLOR NEGRO, BAÑO, LIMPIEZA DE OIDOS Y CORTE DE UÑAS', 10000),
('2020-02-26', 'RUBIA', 'MESTIZA, PELAJE CORTO COLOR RUBIO, BAÑO Y DESPARACITACION EXTERNA (PULGUISIDA)', 7000);


SELECT * FROM PERRO;
UPDATE PERRO SET FECHA_NAC = "2020-10-10" WHERE DNI_DUENO = 39014605;
