create database 	peluqueria_can

CREATE TABLE DUENO(
DNI INT NOT NULL,
NOMBRE VARCHAR(25) NOT NULL,
APELLIDO VARCHAR(25) NOT NULL,
TELEFONO INT DEFAULT NULL,
DIRECCION VARCHAR(225) DEFAULT NULL,
PRIMARY KEY(DNI)
);
CREATE TABLE PERRO (
ID_PERRO INT NOT NULL auto_increment,
NOMBRE VARCHAR(225) DEFAULT NULL,
FECHA_NAC date,
SEXO VARCHAR(30) default NULL,
DNI_DUENO INT NOT NULL,
PRIMARY KEY(ID_PERRO),
FOREIGN KEY(DNI_DUENO) REFERENCES DUENO(DNI),
INDEX IDX_NOMPERRO(NOMBRE)
);


 CREATE TABLE HISTORIAL (
 ID_HISTORIAL INT NOT NULL AUTO_INCREMENT,
 FECHA DATE,
 PERRO VARCHAR(225) DEFAULT NULL,
 DESCRIPCION VARCHAR(500) DEFAULT NULL,
 MONTO INT DEFAULT NULL,
 PRIMARY KEY (ID_HISTORIAL),
 FOREIGN KEY (PERRO) REFERENCES PERRO(NOMBRE)
);

INSERT INTO DUENO (DNI, NOMBRE, APELLIDO, TELEFONO, DIRECCION)
VALUES 
(36430587, "JUAN", "PEREZ", 35150654, "LA MADRID 745, GENERAL PAZ"),
(42152879, "ROSA", "GALLARDO", 35128456, "EL MORRAL 125, GUIÃ‘AZU"),
(25075981, "LUCAS", "ROBIN", 35155844, "ARMADA ARGENTINA 9852, PLADO DE LOS MANANTIALES"),
(17852111, "ESTEBAN", "FONSECA", 3510254, "BUCHARDO 752, PUEYREDO");

INSERT INTO PERRO (NOMBRE, FECHA_NAC, SEXO, DNI_DUENO) 
VALUES
("ARON", "2020-03-28", "MACHO", 36430587),
("NEGRA","2019-03-13","HEMBRA", 42152879),
("TINO", "2020-08-20", "MACHO", 25075981),
("UMA", "2018-09-25", "HEMBRA", 17852111);

INSERT INTO HISTORIAL (FECHA, PERRO, DESCRIPCION, MONTO)
VALUES
("2020-03-28", "ARON", "CANICHE", 5000),
("2019-03-13", "DYNO", "CHIHUAHUA", 3980),
("2020-08-20", "DYNO", "PUG", 4500),
("01-05-2022", "DYNO", "PUG", 8900);


SELECT * FROM PERRO;
UPDATE PERRO SET FECHA_NAC = "2020-03-28" WHERE DNI_DUENO = 36430587;
